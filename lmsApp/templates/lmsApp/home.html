{% extends 'main.html' %}
{% load humanize %}

{% block additional_styles %}
<style>
    .forum-container {
        display: flex;
        justify-content: space-between;
        padding: 20px;
        background-color: #2c3e50;
        color: #ecf0f1;
        height: 100vh;
    }

    .topics, .rooms, .sidebar {
        background-color: #34495e;
        border-radius: 10px;
        padding: 20px;
    }

    .topics {
        flex: 1;
        margin-right: 20px;
    }

    .rooms {
        flex: 2;
        margin-right: 20px;
    }

    .sidebar {
        flex: 1;
    }

    .topics h3, .rooms h3, .sidebar h3 {
        margin-bottom: 15px;
    }

    .topic-item, .room-item, .activity-item {
        background-color: #3d566e;
        border-radius: 5px;
        padding: 10px;
        margin-bottom: 10px;
        transition: background-color 0.3s;
    }

    .topic-item:hover, .room-item:hover, .activity-item:hover {
        background-color: #2a3a48;
    }

    .topic-item a, .room-item a, .activity-item a {
        color: #ecf0f1;
        text-decoration: none;
    }

    .topic-item a:hover, .room-item a:hover, .activity-item a:hover {
        text-decoration: underline;
    }

    .room-meta, .activity-meta {
        font-size: 12px;
        color: #95a5a6;
    }

    .create-room-btn {
        display: inline-block;
        background-color: #27ae60;
        color: #ecf0f1;
        padding: 10px 15px;
        border-radius: 5px;
        text-align: center;
        text-decoration: none;
        margin-bottom: 15px;
    }

    .create-room-btn:hover {
        background-color: #229954;
    }

    .follow-btn {
        background-color: #2980b9;
        color: #ecf0f1;
        padding: 5px 10px;
        border-radius: 5px;
        text-align: center;
        text-decoration: none;
        margin-top: 10px;
    }

    .follow-btn:hover {
        background-color: #2471a3;
    }
</style>
{% endblock %}

{% block content %}
<div class="forum-container">
    <div class="topics">
        <h3>Browse Topics</h3>
        {% for topic in topics %}
        <div class="topic-item">
            <a href="#">{{ topic.name }}</a>
            <a href="#" class="follow-btn">Follow</a>
        </div>
        {% endfor %}
    </div>
    <div class="rooms">
        <h3>Rooms</h3>
        <a href="{% url 'create_room' %}" class="create-room-btn">Create Room</a>
        {% for room in rooms %}
        <div class="room-item">
            <a href="{% url 'room' room.id %}">{{ room.name }}</a>
            <div class="room-meta">Host: {{ room.host.username }} - {{ room.updated|naturaltime }}</div>
        </div>
        {% endfor %}
    </div>
    <div class="sidebar">
        <h3>Recent Activities</h3>
        {% for message in room_messages %}
        <div class="activity-item">
            <a href="#">{{ message.user.username }} replied in {{ message.room.name }}</a>
            <div class="activity-meta">{{ message.created|naturaltime }}</div>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}
